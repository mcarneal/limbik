{"ast":null,"code":"var _jsxFileName = \"/home/michael/Development/limbik/limbik_frontend/src/components/table/index.js\";\nimport _ from 'lodash';\nimport React, { Component } from 'react';\nimport { Table } from 'semantic-ui-react';\nlet tableData = [];\n\nclass PostTable extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      column: null,\n      data: tableData,\n      direction: null\n    };\n\n    this.postStringShortener = string => {\n      if (string && string.length > 50) {\n        return string.slice(0, 50).concat('...');\n      } else if (string && string.length < 50) {\n        return string;\n      } else {\n        return 'no description';\n      }\n    };\n\n    this.getTableData = () => {\n      console.log('am i running?');\n\n      if (tableData.length > 0) {\n        tableData = [];\n        this.props.data.forEach(post => {\n          tableData.push({\n            postid: post.id,\n            text: this.postStringShortener(post.text),\n            clicks: post.clicks,\n            impressions: post.impressions,\n            currency: \"\".concat(post.spend.amount > 0 ? post.spend.amount : '', \"  \").concat(post.spend.currency ? post.spend.currency : 'None')\n          });\n        });\n      } else {\n        this.props.data.forEach(post => {\n          tableData.push({\n            postid: post.id,\n            text: this.postStringShortener(post.text),\n            clicks: post.clicks,\n            impressions: post.impressions,\n            currency: \"\".concat(post.spend.amount > 0 ? post.spend.amount : '', \"  \").concat(post.spend.currency ? post.spend.currency : 'None')\n          });\n        });\n      }\n    };\n\n    this.handleSort = clickedColumn => () => {\n      const _this$state = this.state,\n            column = _this$state.column,\n            data = _this$state.data,\n            direction = _this$state.direction;\n\n      if (column !== clickedColumn) {\n        this.setState({\n          column: clickedColumn,\n          data: _.sortBy(data, [clickedColumn]),\n          direction: 'ascending'\n        });\n        return;\n      }\n\n      this.setState({\n        data: data.reverse(),\n        direction: direction === 'ascending' ? 'descending' : 'ascending'\n      });\n    };\n  }\n\n  render() {\n    console.log('hoping i can get this to work', tableData);\n    this.getTableData();\n    const _this$state2 = this.state,\n          column = _this$state2.column,\n          data = _this$state2.data,\n          direction = _this$state2.direction;\n    return React.createElement(\"div\", {\n      className: \"table\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }, React.createElement(Table, {\n      sortable: true,\n      celled: true,\n      fixed: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }, React.createElement(Table.Header, {\n      className: \"table-head\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }, React.createElement(Table.Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, React.createElement(Table.HeaderCell, {\n      sorted: column === 'postid' ? direction : null,\n      onClick: this.handleSort('postid'),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, \"Post ID\"), React.createElement(Table.HeaderCell, {\n      sorted: column === 'text' ? direction : null,\n      onClick: this.handleSort('text'),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, \"Text\"), React.createElement(Table.HeaderCell, {\n      sorted: column === 'clicks' ? direction : null,\n      onClick: this.handleSort('clicks'),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, \"Clicks\"), React.createElement(Table.HeaderCell, {\n      sorted: column === 'impressions' ? direction : null,\n      onClick: this.handleSort('impressions'),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, \"Impressions\"), React.createElement(Table.HeaderCell, {\n      sorted: column === 'currency' ? direction : null,\n      onClick: this.handleSort('currency'),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, \"Currency\"))), React.createElement(Table.Body, {\n      className: \"table-body\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }, _.map(data, ({\n      postid,\n      text,\n      clicks,\n      impressions,\n      currency\n    }) => React.createElement(Table.Row, {\n      key: postid,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }, React.createElement(Table.Cell, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, postid), React.createElement(Table.Cell, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }, text), React.createElement(Table.Cell, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }, clicks), React.createElement(Table.Cell, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }, impressions), React.createElement(Table.Cell, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }, currency))))));\n  }\n\n}\n\nexport default PostTable;","map":{"version":3,"sources":["/home/michael/Development/limbik/limbik_frontend/src/components/table/index.js"],"names":["_","React","Component","Table","tableData","PostTable","state","column","data","direction","postStringShortener","string","length","slice","concat","getTableData","console","log","props","forEach","post","push","postid","id","text","clicks","impressions","currency","spend","amount","handleSort","clickedColumn","setState","sortBy","reverse","render","map"],"mappings":"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","sourcesContent":["import _ from 'lodash'\nimport React, { Component } from 'react'\nimport { Table } from 'semantic-ui-react'\n\nlet tableData = []\n\n\n\nclass PostTable extends Component {\n\n  state = {\n    column: null,\n    data: tableData,\n    direction: null,\n  }\n\n    postStringShortener = (string) => {\n        if (string && string.length > 50){\n            return string.slice(0, 50).concat('...')\n        } else if (string && string.length < 50) {\n            return string\n        } else {\n            return 'no description'\n        }\n    }\n    \n\n    getTableData = () => {\n        console.log('am i running?')\n        if(tableData.length > 0){\n            tableData = []\n            this.props.data.forEach((post)=>{\n                tableData.push({postid: post.id , text: this.postStringShortener(post.text), clicks: post.clicks, impressions: post.impressions, currency : `${post.spend.amount > 0 ? post.spend.amount : ''}  ${post.spend.currency ? post.spend.currency : 'None'}`})\n            })\n\n        } else{\n            this.props.data.forEach((post)=>{\n                tableData.push({postid: post.id , text: this.postStringShortener(post.text), clicks: post.clicks, impressions: post.impressions, currency : `${post.spend.amount > 0 ? post.spend.amount : ''}  ${post.spend.currency ? post.spend.currency : 'None'}`})\n            })\n\n        }\n    }\n\n  handleSort = clickedColumn => () => {\n    const { column, data, direction } = this.state\n\n    if (column !== clickedColumn) {\n      this.setState({\n        column: clickedColumn,\n        data: _.sortBy(data, [clickedColumn]),\n        direction: 'ascending',\n      })\n\n      return\n    }\n\n    this.setState({\n      data: data.reverse(),\n      direction: direction === 'ascending' ? 'descending' : 'ascending',\n    })\n  }\n\n    render() {\n        console.log('hoping i can get this to work', tableData)\n        this.getTableData()\n      const { column, data, direction } = this.state\n        return (\n            <div className='table'>\n      <Table sortable celled fixed>\n        <Table.Header className='table-head'>\n          <Table.Row>\n              <Table.HeaderCell\n              sorted={column === 'postid' ? direction : null}\n              onClick={this.handleSort('postid')}\n            >\n              Post ID\n            </Table.HeaderCell>\n            <Table.HeaderCell\n              sorted={column === 'text' ? direction : null}\n              onClick={this.handleSort('text')}\n            >\n              Text\n            </Table.HeaderCell>\n            <Table.HeaderCell\n              sorted={column === 'clicks' ? direction : null}\n              onClick={this.handleSort('clicks')}\n            >\n              Clicks\n            </Table.HeaderCell>\n            <Table.HeaderCell\n              sorted={column === 'impressions' ? direction : null}\n              onClick={this.handleSort('impressions')}\n            >\n              Impressions\n            </Table.HeaderCell>\n            <Table.HeaderCell\n              sorted={column === 'currency' ? direction : null}\n              onClick={this.handleSort('currency')}\n            >\n              Currency\n            </Table.HeaderCell>\n          </Table.Row>\n        </Table.Header>\n        <Table.Body className='table-body'>\n          {_.map(data, ({ postid, text, clicks, impressions, currency }) => (\n            <Table.Row key={postid}>\n              <Table.Cell>{postid}</Table.Cell>\n              <Table.Cell>{text}</Table.Cell>\n              <Table.Cell>{clicks}</Table.Cell>\n              <Table.Cell>{impressions}</Table.Cell>\n              <Table.Cell>{currency}</Table.Cell>\n            </Table.Row>\n          ))}\n        </Table.Body>\n    </Table>\n    </div>\n    )\n  }\n}\n\nexport default PostTable\n"]},"metadata":{},"sourceType":"module"}