{"ast":null,"code":"var _jsxFileName = \"/home/michael/Development/limbik/limbik_frontend/src/components/home/index.js\";\nimport React, { Component } from 'react';\nimport Table from '../table/index.js';\nimport Search from '../search/index.js';\nimport FilterSelect from '../search/filterSelect.js';\n\nclass Home extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      index: [],\n      targetFilter: '',\n      filteredData: []\n    };\n\n    this.onChangeHandler = e => {\n      let searchWord = '';\n      searchWord += e.target.value;\n      let filteredData = this.state.index.filter(post => post.id.toString().includes(searchWord));\n      this.setState({\n        filteredData: filteredData\n      });\n    };\n\n    this.filterChangeHandler = (e, targetProp) => {\n      let filteredData = [];\n      this.state.index.forEach(post => {\n        Object.values(post.targeting).forEach(target => {\n          if (target instanceof Array) target.forEach(value => {\n            if (value === e.target.innerText) {\n              filteredData.push(post);\n            }\n          });\n        });\n      });\n      console.log('ehhhhh', filteredData);\n    };\n  }\n\n  componentDidMount() {\n    fetch(\"http://localhost:3000/api/v1/posts\").then(res => res.json()).then(data => {\n      this.setState({\n        index: data\n      });\n    });\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"home\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    }, React.createElement(Search, {\n      onChangeHandler: this.onChangeHandler,\n      searchInput: this.state.search,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    }), React.createElement(FilterSelect, {\n      data: this.state.index,\n      filterChangeHandler: this.filterChangeHandler,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }), React.createElement(Table, {\n      data: this.state.filteredData.length > 0 ? this.state.filteredData : this.state.index,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default Home;","map":{"version":3,"sources":["/home/michael/Development/limbik/limbik_frontend/src/components/home/index.js"],"names":["React","Component","Table","Search","FilterSelect","Home","state","index","targetFilter","filteredData","onChangeHandler","e","searchWord","target","value","filter","post","id","toString","includes","setState","filterChangeHandler","targetProp","forEach","Object","values","targeting","Array","innerText","push","console","log","componentDidMount","fetch","then","res","json","data","render","search","length"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,KAAP,MAAkB,mBAAlB;AACA,OAAOC,MAAP,MAAmB,oBAAnB;AACA,OAAOC,YAAP,MAAyB,2BAAzB;;AAGA,MAAMC,IAAN,SAAmBJ,SAAnB,CAA6B;AAAA;AAAA;AAAA,SAGzBK,KAHyB,GAGjB;AACJC,MAAAA,KAAK,EAAG,EADJ;AAEJC,MAAAA,YAAY,EAAG,EAFX;AAGJC,MAAAA,YAAY,EAAG;AAHX,KAHiB;;AAAA,SAoBzBC,eApByB,GAoBNC,CAAD,IAAO;AACrB,UAAIC,UAAU,GAAG,EAAjB;AACAA,MAAAA,UAAU,IAAID,CAAC,CAACE,MAAF,CAASC,KAAvB;AACA,UAAIL,YAAY,GAAG,KAAKH,KAAL,CAAWC,KAAX,CAAiBQ,MAAjB,CAAwBC,IAAI,IAAIA,IAAI,CAACC,EAAL,CAAQC,QAAR,GAAmBC,QAAnB,CAA4BP,UAA5B,CAAhC,CAAnB;AAEA,WAAKQ,QAAL,CAAc;AAACX,QAAAA,YAAY,EAAGA;AAAhB,OAAd;AACH,KA1BwB;;AAAA,SA4BzBY,mBA5ByB,GA4BH,CAACV,CAAD,EAAIW,UAAJ,KAAmB;AACrC,UAAIb,YAAY,GAAG,EAAnB;AACA,WAAKH,KAAL,CAAWC,KAAX,CAAiBgB,OAAjB,CAA0BP,IAAD,IAAQ;AAC7BQ,QAAAA,MAAM,CAACC,MAAP,CAAcT,IAAI,CAACU,SAAnB,EAA8BH,OAA9B,CAAuCV,MAAD,IAAU;AAC5C,cAAGA,MAAM,YAAYc,KAArB,EACId,MAAM,CAACU,OAAP,CAAgBT,KAAD,IAAS;AACpB,gBAAGA,KAAK,KAAGH,CAAC,CAACE,MAAF,CAASe,SAApB,EAA8B;AAC1BnB,cAAAA,YAAY,CAACoB,IAAb,CAAkBb,IAAlB;AACH;AACJ,WAJD;AAKP,SAPD;AASH,OAVD;AAWAc,MAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ,EAAsBtB,YAAtB;AACH,KA1CwB;AAAA;;AAUzBuB,EAAAA,iBAAiB,GAAE;AACfC,IAAAA,KAAK,sCAAL,CACKC,IADL,CACUC,GAAG,IAAIA,GAAG,CAACC,IAAJ,EADjB,EAEKF,IAFL,CAEUG,IAAI,IAAI;AACV,WAAKjB,QAAL,CAAc;AACVb,QAAAA,KAAK,EAAG8B;AADE,OAAd;AAGH,KANL;AAOH;;AA0BDC,EAAAA,MAAM,GAAE;AACJ,WACI;AAAK,MAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,MAAD;AACI,MAAA,eAAe,EAAE,KAAK5B,eAD1B;AAEI,MAAA,WAAW,EAAE,KAAKJ,KAAL,CAAWiC,MAF5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,EAII,oBAAC,YAAD;AAAc,MAAA,IAAI,EAAE,KAAKjC,KAAL,CAAWC,KAA/B;AAAsC,MAAA,mBAAmB,EAAE,KAAKc,mBAAhE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAJJ,EAMI,oBAAC,KAAD;AAAO,MAAA,IAAI,EAAE,KAAKf,KAAL,CAAWG,YAAX,CAAwB+B,MAAxB,GAAiC,CAAjC,GAAqC,KAAKlC,KAAL,CAAWG,YAAhD,GAA+D,KAAKH,KAAL,CAAWC,KAAvF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MANJ,CADJ;AAWH;;AAxDwB;;AA2D7B,eAAeF,IAAf","sourcesContent":["import React, { Component } from 'react'\nimport Table from '../table/index.js'\nimport Search from '../search/index.js'\nimport FilterSelect from '../search/filterSelect.js'\n\n\nclass Home extends Component {\n\n\n    state = {\n        index : [],\n        targetFilter : '',\n        filteredData : []\n    }\n\n\n    componentDidMount(){\n        fetch(`http://localhost:3000/api/v1/posts`)\n            .then(res => res.json())\n            .then(data => {\n                this.setState({\n                    index : data\n                })\n            } )\n    }\n\n    onChangeHandler = (e) => {\n        let searchWord = ''\n        searchWord += e.target.value\n        let filteredData = this.state.index.filter(post => post.id.toString().includes(searchWord))\n        \n        this.setState({filteredData : filteredData})\n    }\n\n    filterChangeHandler = (e, targetProp) => {\n        let filteredData = []\n        this.state.index.forEach((post)=>{\n            Object.values(post.targeting).forEach((target)=>{\n                if(target instanceof Array)\n                    target.forEach((value)=>{\n                        if(value===e.target.innerText){\n                            filteredData.push(post)\n                        }\n                    })\n            }) \n            \n        })\n        console.log('ehhhhh', filteredData)\n    }\n\n    render(){\n        return(\n            <div className='home'>\n                <Search\n                    onChangeHandler={this.onChangeHandler}\n                    searchInput={this.state.search} />\n                <FilterSelect data={this.state.index} filterChangeHandler={this.filterChangeHandler}/>\n               \n                <Table data={this.state.filteredData.length > 0 ? this.state.filteredData : this.state.index} /> \n\n        </div>\n        )\n    }\n}\n\nexport default Home\n"]},"metadata":{},"sourceType":"module"}